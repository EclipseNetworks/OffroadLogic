<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>â˜…ã€‹OFFROAD LOGIC | Access Restrictedã€Šâ˜…</title>

  <link rel="manifest" href="/manifest.json">
  <link rel="icon" href="xclipsehub.png">

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: { primary: '#10b981', dark: '#05080a' },
          fontFamily: { sans: ['Montserrat', 'sans-serif'], mono: ['JetBrains Mono', 'monospace'] }
        }
      }
    }
  </script>

  <style>
    body { background-color: #05080a; overflow: hidden; margin: 0; }
    .grid-bg {
      position: fixed; inset: 0;
      background-image: linear-gradient(rgba(16, 185, 129, 0.04) 1px, transparent 1px), linear-gradient(90deg, rgba(16, 185, 129, 0.04) 1px, transparent 1px);
      background-size: 60px 60px; mask-image: radial-gradient(circle at center, black, transparent 90%);
      z-index: -1;
    }
    #rainCanvas { position: fixed; top: 0; left: 0; z-index: -1; pointer-events: none; }
    .glass-terminal {
      background: rgba(8, 14, 18, 0.94);
      backdrop-filter: blur(30px);
      border: 1px solid rgba(16, 185, 129, 0.25);
      box-shadow: 0 0 80px rgba(0, 0, 0, 1);
    }
    .countdown-box { background: rgba(16, 185, 129, 0.05); border: 1px solid rgba(16, 185, 129, 0.1); }
    .input-field { background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(16, 185, 129, 0.2); transition: 0.3s; color: white; }
    .input-field:focus { border-color: #10b981; outline: none; box-shadow: 0 0 15px rgba(16, 185, 129, 0.2); }
  </style>
</head>

<body class="text-white font-sans min-h-screen flex flex-col items-center justify-center p-4">

<div class="grid-bg"></div>
<canvas id="rainCanvas"></canvas>

<main class="w-full max-w-3xl z-10 animate__animated animate__fadeIn">
  <div class="glass-terminal rounded-[3rem] p-8 md:p-16 text-center relative overflow-hidden">
    
    <header class="mb-12">
      <div class="inline-block px-4 py-1 border border-primary/30 rounded-full mb-6">
        <span class="text-[8px] font-mono text-primary uppercase tracking-[0.5em] animate-pulse">System Status: Deploying</span>
      </div>
      <h1 class="text-4xl md:text-6xl font-black italic tracking-tighter mb-4 uppercase">
        â˜…ã€‹OFFROAD <span class="text-primary text-glow">LOGIC</span>ã€Šâ˜…
      </h1>
      <p class="text-gray-400 font-mono text-[10px] tracking-[0.4em] uppercase opacity-70">Sector Access Restricted Until Launch</p>
    </header>

    <div class="grid grid-cols-4 gap-4 mb-16 max-w-md mx-auto">
      <div class="countdown-box p-4 rounded-2xl">
        <div id="days" class="text-2xl font-black text-primary italic">00</div>
        <div class="text-[8px] uppercase tracking-widest text-gray-500 font-bold">Days</div>
      </div>
      <div class="countdown-box p-4 rounded-2xl">
        <div id="hours" class="text-2xl font-black text-primary italic">00</div>
        <div class="text-[8px] uppercase tracking-widest text-gray-500 font-bold">Hrs</div>
      </div>
      <div class="countdown-box p-4 rounded-2xl">
        <div id="minutes" class="text-2xl font-black text-primary italic">00</div>
        <div class="text-[8px] uppercase tracking-widest text-gray-500 font-bold">Min</div>
      </div>
      <div class="countdown-box p-4 rounded-2xl">
        <div id="seconds" class="text-2xl font-black text-primary italic text-glow">00</div>
        <div class="text-[8px] uppercase tracking-widest text-gray-500 font-bold">Sec</div>
      </div>
    </div>

    <div class="max-w-md mx-auto mb-12">
      <h3 class="text-[10px] font-black uppercase tracking-[0.3em] text-gray-400 mb-6 italic">Enroll for Launch Notification</h3>
      <form id="notify-form" class="space-y-4">
        <input type="text" id="user-name" placeholder="FULL NAME" required class="input-field w-full px-6 py-4 rounded-xl text-xs font-bold uppercase tracking-widest">
        <input type="email" id="user-email" placeholder="EMAIL ADDRESS" required class="input-field w-full px-6 py-4 rounded-xl text-xs font-bold uppercase tracking-widest">
        <button type="submit" id="submit-btn" class="w-full bg-primary text-dark font-black py-4 rounded-xl text-xs uppercase tracking-widest hover:bg-white transition-all transform hover:scale-105">
          Submit Enrollment
        </button>
      </form>
    </div>

    <footer class="border-t border-white/5 pt-8">
      <p class="text-[9px] text-gray-500 uppercase tracking-widest mb-4 font-bold italic">Contact Sector Lead for Intelligence</p>
      <a href="https://www.instagram.com/thekidleeroy.m/" target="_blank" class="text-gray-400 hover:text-primary transition-all flex items-center justify-center gap-3">
        <i class="fab fa-instagram text-xl"></i>
        <span class="text-[10px] font-black tracking-[0.2em] uppercase">@thekidleeroy.m</span>
      </a>
    </footer>
  </div>
</main>

<script>
/* 0. Auto-Refresh Logic */
let refreshing = false;
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('./sw.js').then(reg => {
    reg.update();
    reg.addEventListener('updatefound', () => {
      const newWorker = reg.installing;
      newWorker.addEventListener('statechange', () => {
        if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
          console.log('Update found. Handover in progress...');
        }
      });
    });
  });

  navigator.serviceWorker.addEventListener('controllerchange', () => {
    if (refreshing) return;
    refreshing = true;
    window.location.reload();
  });
}

/* 1. Countdown Logic: March 14, 2026 */
const launchDate = new Date("March 14, 2026 00:00:00").getTime();
function updateCountdown() {
  const now = new Date().getTime();
  const distance = launchDate - now;
  const days = Math.floor(distance / (1000 * 60 * 60 * 24));
  const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  const seconds = Math.floor((distance % (1000 * 60)) / 1000);
  document.getElementById("days").innerText = days.toString().padStart(2, '0');
  document.getElementById("hours").innerText = hours.toString().padStart(2, '0');
  document.getElementById("minutes").innerText = minutes.toString().padStart(2, '0');
  document.getElementById("seconds").innerText = seconds.toString().padStart(2, '0');
  if (distance < 0) {
    clearInterval(timerInterval);
    document.querySelector(".countdown-box").innerHTML = "LAUNCH ACTIVE";
  }
}
const timerInterval = setInterval(updateCountdown, 1000);
updateCountdown();

/* 2. Discord Webhook Enrollment */
document.getElementById('notify-form').onsubmit = function(e) {
  e.preventDefault();
  const btn = document.getElementById('submit-btn');
  const name = document.getElementById('user-name').value;
  const email = document.getElementById('user-email').value;
  const webhookURL = "https://discord.com/api/webhooks/1472128820520816701/8V8awb9C0L7bhGDRkqLWESiJ-FcWTOFgLesQOhJ96iiDJq7oVsQ5wi5OkqrBp59vnYF5/github";

  btn.innerText = "UPLINKING...";
  btn.disabled = true;

  const payload = {
    username: "OFFROAD LOGIC | SYSTEM BOT",
    avatar_url: "https://offroadlogic.com.au/offroadlogic.gif",
    embeds: [{
      title: "ðŸš€ TACTICAL ENROLLMENT SECURED",
      description: "A new operator has requested access to the Offroad Logic database.",
      color: 65281,
      fields: [
        { name: "ðŸ‘¤ OPERATOR NAME", value: `\`${name.toUpperCase()}\``, inline: true },
        { name: "ðŸ“§ UPLINK ADDRESS", value: `\`${email.toUpperCase()}\``, inline: true }
      ],
      footer: { text: "XCLIPSE NETWORKS | Tactical Intelligence" },
      timestamp: new Date().toISOString()
    }]
  };

  fetch(webhookURL, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(payload)
  })
  .then(() => {
    document.getElementById('notify-form').innerHTML = `<div class="text-primary font-mono animate-pulse italic uppercase text-xs tracking-widest py-4">Enrollment Secure. Tactical Intelligence Logged.</div>`;
  })
  .catch(() => {
    alert("Error: Tactical Uplink Failed.");
    btn.innerText = "RETRY SUBMISSION";
    btn.disabled = false;
  });
};

/* 3. Digital Rain Canvas */
const canvas = document.getElementById('rainCanvas');
const ctx = canvas.getContext('2d');
let particles = [];
function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
class RainDrop {
  constructor() { this.init(); }
  init() {
    this.x = Math.random() * canvas.width;
    this.y = Math.random() * -canvas.height;
    this.length = Math.random() * 20 + 10;
    this.speed = Math.random() * 5 + 2;
    this.opacity = Math.random() * 0.3 + 0.1;
  }
  update() {
    this.y += this.speed;
    if (this.y > canvas.height) this.init();
    ctx.beginPath();
    ctx.strokeStyle = `rgba(16, 185, 129, ${this.opacity})`;
    ctx.moveTo(this.x, this.y);
    ctx.lineTo(this.x, this.y + this.length);
    ctx.stroke();
  }
}
window.addEventListener('resize', resize);
resize();
for (let i = 0; i < 60; i++) particles.push(new RainDrop());
function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  particles.forEach(p => p.update());
  requestAnimationFrame(animate);   
}
animate();
</script>
</body>
</html>